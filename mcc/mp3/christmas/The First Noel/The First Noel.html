<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/choir.css">
  	<script type="text/javascript" src="/js/get_mp3.js"></script>
		<script type='text/javascript'>
      function plus_password(target){
        var password = prompt("Please enter the password:");
        if (password != null && password !== "") {
          window.location.href = target + "&password=" + password;
        }
      }
      const audio = new Audio();
      const btns=document.getElementsByTagName("button");
      const ts={
               'A':'0,35.8',
               'B':'36,50.2',
               'C':'50.8,80',
               'D':'80.5,113.5'
              };
      const ta={
               'A':'0,36.3',
               'B':'36.5,50.1',
               'C':'50.1,80',
               'D':'80.1,113.5'
              };
      const tt={
               'A':'0,35.8',
               'B':'36,50.2',
               'C':'50.8,80',
               'D':'80.1,113.5'
              };
      const vcl_t={
               'A':'0,29.2',
               'B':'29.2,40.9',
               'C':'41,64.5',
               'D':'64.5,90.8'
              };
      const vcl_t_alt={
               'A':'0,30.8',
               'B':'30.8,43.1',
               'C':'43.1,66.7',
               'D':'66.7,92.8'
              };
      const num={
               'soprano':'01',
               'alto':'02',
               'tenor':'03',
               'bass':'04',
               'vcl_soprano':'01',
               'vcl_alto':'02',
               'vcl_tenor':'03',
               'vcl_bass':'04',
               'vcl_full':'05'
              }
      var time_se;

      function play_repeat(seibu,part,btn){
        button_color(btn);
        if(part==undefined){
            if(seibu=='full'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel.mp3';
            }else{
              audio.src = '/tmp/mcc/mp3/christmas/' + num[seibu] + '%20The First Noel/The First Noel (' + seibu + ').mp3';
            }
        }else{
            if(seibu=='full'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel.mp3';
              time_se = tt[part];
            }else if(seibu.substr(0,3)=='vcl'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel/' + num[seibu] + '%20The First Noel (' + seibu + ').mp3';
              time_se = vcl_t[part];
            }else if(seibu=='soprano'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel/' + num[seibu] + '%20The First Noel (' + seibu + ').mp3';
              time_se = ts[part];
            }else if(seibu=='alto'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel/' + num[seibu] + '%20The First Noel (' + seibu + ').mp3';
              time_se = ta[part];
            }else{
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel/' + num[seibu] + '%20The First Noel (' + seibu + ').mp3';
              time_se = tt[part];
            }
            audio.currentTime = time_se.split(",")[0];
        }
        audio.play();
        audio.addEventListener('timeupdate',loop, false);
      }
      function loop() {
        let startTime=time_se.split(",")[0];
        let endTime=time_se.split(",")[1];
        //console.log(audio.currentTime);
        //console.log(endTime);
        if( audio.currentTime >= endTime ) {
          audio.currentTime = startTime;
          audio.pause();
          sleepSetTimeout(1500,() => audio.play());
        }
      }
      function sleepSetTimeout(ms,callback){
        setTimeout(callback,ms);
      }
      function stop_audio(seibu){
        audio.pause();
        recolor_all();
        //document.getElementById(seibu).pause();
      }
      function button_color(btn){
        recolor_all();
        //btn.style.color="red";
        btn.style.fontWeight="bold";
      }
      function recolor_all(){
        for(var i=0; i<btns.length; i++){
          //btns[i].style.color="";
          btns[i].style.fontWeight="";
        }
      }
		</script>
    <title>'The First Noel'パート別練習用音源</title>
	</head>
	<body>
<div class="body">
<h1>パート別練習用音源</h1>

<div class='nen'>
  <h4>The First Noel</h4>
  <ul style="list-style: none;">
    <li>
      <div class="part">ソプラノ</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (soprano).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (soprano).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('soprano','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('soprano','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('soprano','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('soprano','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('soprano')">stop</button>

      <div class="vcl">AI Vocal</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_soprano','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_soprano','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_soprano','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_soprano','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('vcl_soprano')">stop</button>
    </li>
    <li>
      <div class="part">アルト</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (alto).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (alto).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('alto','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('alto','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('alto','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('alto','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('alto')">stop</button>

      <div class="vcl">AI Vocal</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_alto','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_alto','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_alto','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_alto','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('vcl_alto')">stop</button>
    </li>
    <li>
      <div class="part">テノール</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (tenor).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (tenor).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('tenor','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('tenor','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('tenor','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('tenor','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('tenor')">stop</button>

      <div class="vcl">AI Vocal</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_tenor).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_tenor).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_tenor','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_tenor','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_tenor','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_tenor','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('vcl_tenor')">stop</button>
    </li>
    <li>
      <div class="part">バス</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (bass).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (bass).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('bass','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('bass','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('bass','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('bass','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('bass')">stop</button>

      <div class="vcl">AI Vocal</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_bass','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_bass','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_bass','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_bass','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('vcl_bass')">stop</button>
    </li>
    <li>
      <div class="part">コーラス</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel.mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel.mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('full','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('full','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('full','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('full','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('full')">stop</button>

      <div class="vcl">AI Vocal</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full).mp3' controls loop preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_full','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_full','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_full','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_full','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('vcl_full')">stop</button>
    </li>
  </ul>
  <ul style="list-style: none;">
    <li>
      <div class="part"><a href='#' onclick="plus_password('./The First Noel.pdf')">楽譜</a></div>
    </li>
  </ul>
</div>
<div class='link'>
  <a href='../Celebrate-the-King/Celebrate-the-King.html'>⇒Celebrate the Kingの音源へ</a>
  <br>
  <a href='../../../index.html'>⇒ MCCワーシップクワイアーの持ち歌のページに戻る.</a></div>
</div>
	</body>
</html>