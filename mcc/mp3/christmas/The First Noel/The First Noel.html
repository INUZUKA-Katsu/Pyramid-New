<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/choir.css">
    <link rel="icon" type="image/png" sizes="16x16" href="/mcc/img/favicon.ico">
    <!--link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/mcc/img/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/mcc/img/favicon-16x16.png">
    <link rel="manifest" href="/mcc/img/site.webmanifest">
    <link rel="mask-icon" href="/mcc/img/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff"!-->
  	<script type="text/javascript" src="/js/get_mp3.js"></script>
		<script type='text/javascript'>
      var t_ranges=[   
            [
              ['soprano'],
              {
                'A': '0,35.8',
                'B': '36,50.2',
                'C': '50.8,80',
                'D': '80.5,113.5'
              }
            ],
            [
              ['alto'],
              {
                'A': '0,36.3',
                'B': '36.5,50.1',
                'C': '50.1,80',
                'D': '80.1,113.5'
              }
            ],
            [
              ['tenor','bass','full'],
              {
                'A': '0,35.8',
                'B': '36,50.2',
                'C': '50.8,80',
                'D': '80.1,113.5'
              }
            ],
            {120:
              [
                [
                  ['vcl_soprano','vcl_alto','vcl_full'],
                  {
                    'A': '0,29.2',
                    'B': '29.2,40.9',
                    'C': '41,64.5',
                    'D': '64.5,90.8'
                  }
                ],
                [
                  ['vcl_tenor','vcl_all_tenor','vcl_bass'],
                  {
                    'A': '0,29.2',
                    'B': '28.9,40.6',
                    'C': '41,64.5',
                    'D': '64.9,90.8'
                  }
                ]
              ],
            98:
              [
                [
                  ['vcl_soprano','vcl_alto','vcl_tenor','vcl_all_tenor','vcl_bass','vcl_full'],
                  {
                    'A': '0,35.1',
                    'B': '35.2,49.6',
                    'C': '50.4,79.4',
                    'D': '79,111.8'
                  }
                ]
              ]
            }
          ]
      var tempo={
        'vcl_soprano':120,
        'vcl_alto':120,
        'vcl_tenor':120,
        'vcl_all_tenor':120,
        'vcl_bass':120,
        'vcl_full':120
      }
      function get_trange(seibu,part){
        if(tempo[seibu]!=undefined){
          //ボカロの場合
          let t_hash=t_ranges.find(elm => Object.keys(elm).some(item => item==tempo[seibu]));
          let tset=t_hash[tempo[seibu]].find(elm => elm[0].some(item => item==seibu));
          return tset[1][part];
        }else{
          //ボカロでない場合
          let tset=t_ranges.find(elm => elm[0].some(item => item==seibu));
          return tset[1][part];
        }
      }
      function get_src(seibu){
        let elm=document.getElementById(seibu);
        return elm.src;
      }
      function get_src_of_specified_tempo(seibu,tempo){
        let vcl_src={
          120 : {
            'vcl_soprano'   : '/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano).mp3',
            'vcl_alto'      : '/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto).mp3',
            'vcl_tenor'     : '/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_tenor).mp3',
            'vcl_all_tenor' : '/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_all_tenor).mp3',
            'vcl_bass'      : '/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass).mp3',
            'vcl_full'      : '/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full).mp3'
          },
          98 : {
            'vcl_soprano'   : '/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano_tmp98).mp3',
            'vcl_alto'      : '/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto_tmp98).mp3',
            'vcl_tenor'     : '/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_tenor_tmp98).mp3',
            'vcl_all_tenor' : '/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_all_tenor_tmp98).mp3',
            'vcl_bass'      : '/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass_tmp98).mp3',
            'vcl_full'      : '/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full_tmp98).mp3'
          }
        }
        let this_tempo=tempo[seibu];
        return vcl_src[this_tempo][seibu];
      } 
      function change_tempo(seibu){
        //seibu:vcl_soprano, vcl_alto, vcl_tenor, vcl_bass, vcl_fullのいずれか
        let elm=document.getElementById(seibu);
        //再生中だったら停止する
        elm.pause;
        let parent_elm=elm.parentElement;
        let tmp_elm=parent_elm.getElementsByTagName("span")[0];
        //テンポ表示を書き換える
        if(tempo[seibu]==120){
          tempo[seibu]=98;
          tmp_elm.innerHTML="=98";
        }else{
          tempo[seibu]=120;
          tmp_elm.innerHTML="=120";
        }
        //差し替え前のオーディオタグのsrc
        let previous_src=elm.src;
        //オーディオタグのsrcを差し替える
        elm.src=get_src_of_specified_tempo(seibu,tempo);
        if(elm.readyState==0){
          get_mp3(elm);
        }
        //ダウンロード用aタグのhrefを差し替える
        a_elm=parent_elm.getElementsByTagName("a")[0];
        a_elm.href=get_src_of_specified_tempo(seibu,tempo);
        //部分再生中だったら変更後のテンポで再生しなおす。
        console.log("seibu:"+seibu);
        console.log("tempo[seibu]:"+tempo[seibu]);
        console.log(audio.src);
        console.log(get_src_of_specified_tempo(seibu,tempo));
        if(audio.src==previous_src&&audio.paused!=true){
          let btn=get_playing_button(parent_elm,seibu); 
          audio.pause;
          play_repeat(seibu,btn.innerHTML.substr(0,1),btn);
        }
      }
      function get_playing_button(parent_elm,seibu){
        let seibu_btns= parent_elm.getElementsByTagName("button");
        let btnsArray = Array.from(seibu_btns);
        let btn=btnsArray.find(btn=>btn.style.fontWeight=="bold");
        return btn;
      }
      function reset_addEventListener(elm){
        elms = elm.parentNode.getElementsByTagName('audio');
        audio = new Audio();
        btns=document.getElementsByTagName("button");
        console.log(elms);
        var elmsArray = Array.from(elms);
        set_addEventListener(elmsArray);
      }

		</script>
    <title>'The First Noel'　　パート別練習用音源</title>
	</head>
	<body>
<div class="body">
<h1>パート別練習用音源</h1>
<div class='nen'>
  <h4>The First Noel</h4>
  <ul style="list-style: none;">
    <li>
      <div class="part">ソプラノ</div>
      <audio id="soprano" src='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (soprano).mp3' controls loop preload="none" onclick="stop_other(this)"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (soprano).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('soprano','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('soprano','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('soprano','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('soprano','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>

      <div class="vcl">
        AI Vocal
        &nbsp;&nbsp;&#9833;<span>=120</span>
        &nbsp;&nbsp;<button onclick="change_tempo('vcl_soprano')">テンポ切替</button>
      </div> 
      <audio id="vcl_soprano" src='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_soprano','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_soprano','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_soprano','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_soprano','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>
    </li>
    <li>
      <div class="part">アルト</div>
      <audio id="alto" src='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (alto).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (alto).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('alto','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('alto','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('alto','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('alto','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>

      <div class="vcl">
        AI Vocal
        &nbsp;&nbsp;&#9833;<span>=120</span>
        &nbsp;&nbsp;<button onclick="change_tempo('vcl_alto')">テンポ切替</button>
      </div>
      <audio id="vcl_alto" src='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_alto','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_alto','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_alto','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_alto','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>
    </li>
    <li>
      <div class="part">テノール</div>
      <audio id="tenor" src='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (tenor).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (tenor).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('tenor','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('tenor','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('tenor','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('tenor','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>

      <div class="vcl">
        AI Vocal
        &nbsp;&nbsp;&#9833;<span>=120</span>
        &nbsp;&nbsp;<button onclick="change_tempo('vcl_all_tenor')">テンポ切替</button><span style="font-size:70%;font-weight:normal;">  ※8ページ上段を主旋律からテノールの旋律に変更しました。</span>
      </div>
      <audio id="vcl_all_tenor" src='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_all_tenor).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_all_tenor).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_all_tenor','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_all_tenor','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_all_tenor','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_all_tenor','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>
    </li>
    <li>
      <div class="part">バス</div>
      <audio id="bass" src='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (bass).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (bass).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('bass','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('bass','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('bass','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('bass','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>

      <div class="vcl">
        AI Vocal
        &nbsp;&nbsp;&#9833;<span>=120</span>
        &nbsp;&nbsp;<button onclick="change_tempo('vcl_bass')">テンポ切替</button>
      </div>
      <audio id="vcl_bass" src='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_bass','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_bass','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_bass','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_bass','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>
    </li>
    <li>
      <div class="part">コーラス</div>
      <audio id="full" src='/tmp/mcc/mp3/christmas/The First Noel/The First Noel.mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/The First Noel.mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('full','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('full','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('full','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('full','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>

      <div class="vcl">
        AI Vocal
        &nbsp;&nbsp;&#9833;<span>=120</span>
        &nbsp;&nbsp;<button onclick="change_tempo('vcl_full')">テンポ切替</button>
      </div>
      <audio id="vcl_full" src='/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full).mp3' controls loop preload="none"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('vcl_full','A',this)">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('vcl_full','B',this)">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('vcl_full','C',this)">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('vcl_full','D',this)">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio()">stop</button>
    </li>
  </ul>
  <ul style="list-style: none;">
    <li>
      <div class="part"><a href='#' onclick="plus_password('./The First Noel.pdf')">楽　譜</a></div>
    </li>
    <li><div class="part">連　絡</div>
      <div class="textarea">
        <textarea readonly cols="32" rows="10"><!--連絡事項--></textarea>
        <a href="https://i.gyazo.com/7de42dcf1b8a48c96e4e2075bac783ea.png" target="_blank"><image src="https://i.gyazo.com/7de42dcf1b8a48c96e4e2075bac783ea.png" width="300px"></image></a>
      </div>  
    </li>
  </ul>
</div>
<div class='link'>
  <a href='../Celebrate-the-King/Celebrate-the-King.html'>⇒Celebrate the Kingの音源へ</a>
  <br>
  <a href='../../../index.html'>⇒ MCCワーシップクワイアーの持ち歌のページに戻る.</a></div>
</div>
<!--audio style="visibility:hidden;" src='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (vcl_soprano_tmp98).mp3' controls preload="none"></-audio>
<audio style="visibility:hidden;" src='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (vcl_alto_tmp98).mp3' controls preload="none"></audio>
<audio style="visibility:hidden;" src='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (vcl_tenor_tmp98).mp3' controls preload="none"></audio>
<audio style="visibility:hidden;" src='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (vcl_bass_tmp98).mp3' controls preload="none"></audio>
<audio!-- style="visibility:hidden;" src='/tmp/mcc/mp3/christmas/The First Noel/05 The First Noel (vcl_full_tmp98).mp3' controls preload="none"></audio!-->
	</body>
</html>