<!doctype html>
<html lang="ja">
	<head>
		<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/choir.css">
  	<script type="text/javascript" src="/js/get_mp3.js"></script>
		<script type='text/javascript'>
      function plus_password(target){
        var password = prompt("Please enter the password:");
        if (password != null && password !== "") {
          window.location.href = target + "&password=" + password;
        }
      }
      const audio = new Audio();
      const ts={
               'A':'0,35.8',
               'B':'36,50.2',
               'C':'50.8,80',
               'D':'80.5,114'
              };
      const tt={
               'A':'0,35.8',
               'B':'36,50.2',
               'C':'50.8,80',
               'D':'80.1,114'
              };
      const num={
               'soprano':'01',
               'alto':'02',
               'tenor':'03',
               'bass':'04'
              }
      var time_se;

      function play_repeat(seibu,part){
        if(part==undefined){
            if(seibu=='full'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel.mp3';
            }else{
              audio.src = '/tmp/mcc/mp3/christmas/' + num[seibu] + '%20The First Noel/The First Noel (' + seibu + ').mp3';
            }
        }else{
            if(seibu=='full'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel.mp3';
              time_se = tt[part];
              audio.currentTime = time_se.split(",")[0];
            }else if(seibu=='soprano' || seibu=='alto'){
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel/' + num[seibu] + '%20The First Noel (' + seibu + ').mp3';
              time_se = ts[part];
              audio.currentTime = time_se.split(",")[0];
            }else{
              audio.src = '/tmp/mcc/mp3/christmas/The First Noel/' + num[seibu] + '%20The First Noel (' + seibu + ').mp3';
              time_se = tt[part];
              audio.currentTime = time_se.split(",")[0];
            }
        }
        audio.play();
        audio.addEventListener('timeupdate',loop, false);
      }
      function loop() {
        let startTime=time_se.split(",")[0];
        let endTime=time_se.split(",")[1];
        //console.log(audio.currentTime);
        //console.log(endTime);
        if( audio.currentTime >= endTime ) {
          audio.currentTime = startTime;
          audio.pause();
          sleepSetTimeout(1500,() => audio.play());
        }
      }
      function sleepSetTimeout(ms,callback){
        setTimeout(callback,ms);
      }
      function stop_audio(seibu){
        audio.pause() ;
        //document.getElementById(seibu).pause();
      }
		</script>
    <title>'The First Noel'パート別練習用音源</title>
	</head>
	<body>
<div class="body">
<h1>パート別練習用音源</h1>

<div class='nen'>
  <h4>The First Noel</h4>
  <ul>
    <li>
      <div>ソプラノ</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (soprano).mp3' controls preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/01 The First Noel (soprano).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('soprano','A')">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('soprano','B')">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('soprano','C')">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('soprano','D')">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('soprano')">stop</button>
</li>
    <li>
      <div>アルト</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (alto).mp3' controls preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/02 The First Noel (alto).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('alto','A')">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('alto','B')">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('alto','C')">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('alto','D')">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('alto')">stop</button>
    </li>
    <li>
      <div>テノール</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (tenor).mp3' controls preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/03 The First Noel (tenor).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('tenor','A')">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('tenor','B')">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('tenor','C')">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('tenor','D')">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('tenor')">stop</button>
    </li>
    <li>
      <div>バス</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (bass).mp3' controls preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel/04 The First Noel (bass).mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('bass','A')">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('bass','B')">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('bass','C')">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('bass','D')">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('bass')">stop</button>
    </li>
    <li>
      <div>コーラス</div>
      <audio src='/tmp/mcc/mp3/christmas/The First Noel.mp3' controls preload="metadata"></audio>
      &nbsp;&nbsp;<a href='/tmp/mcc/mp3/christmas/The First Noel.mp3' download><img src='/mcc/img/download-m.png'></a>
      <br>
      <button onclick="play_repeat('full','A')">A(･･･あめよりひびきぬ)</button>
      <button onclick="play_repeat('full','B')">B(よろこび･･･生まれぬ)</button>
      <button onclick="play_repeat('full','C')">C(あおげば･･･輝き渡れリ)</button>
      <button onclick="play_repeat('full','D')">D(よろこび讃えよ･･･)</button>
      <button onclick="stop_audio('full')">stop</button>
    </li>
  </ul>
  <ul>
    <li>
      <p style="text-align:left;"><a href='#' onclick="plus_password('./The First Noel.pdf')">楽譜</a></p>
    </li>
  </ul>
</div>
<div class='link'>
  <a href='../Celebrate-the-King/Celebrate-the-King.html'>⇒Celebrate the Kingの音源へ</a>
  <br>
  <a href='../../../index.html'>⇒ MCCワーシップクワイアーの持ち歌のページに戻る.</a></div>
</div>
	</body>
</html>